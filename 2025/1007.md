# 10月7日

## 今日の学び

### AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
組み込みDBを無効にする<br>
ローカルのDBを使用したユニットテストを行う場合は必須の設定<br>
普通はH2やTestContainerなどを利用するので気にする必要はないと思う
ymlに記述する場合は以下のように設定する

``` YAML
spring.test.database.replace: none 
```

### GitHub ActionsでPostgreSQLコンテナの作成

envにPOSTGRES_hogeを設定すればいい感じコンテナとDBを作成してくれる<br>
ただし、スキーマは自分で作成しないといけないので注意が必要

``` YAML
services:
  postgres:
    image: postgres:17
    env:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: testdb
    ports:
      - 5432:5432
```
